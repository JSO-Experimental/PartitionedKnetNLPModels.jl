<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · PartitionedKnetNLPModels.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="PartitionedKnetNLPModels.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">PartitionedKnetNLPModels.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/master/docs/src/reference.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><p>​</p><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><p>​</p><ul><li><a href="#Reference">Reference</a></li><ul><li><a href="#Contents">Contents</a></li><li><a href="#Index">Index</a></li></ul></ul><p>​</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><p>​</p><ul><li><a href="#NLPModels.grad!-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}, AbstractVector{T}}} where {T, S, C}"><code>NLPModels.grad!</code></a></li><li><a href="#NLPModels.obj-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}}} where {T, S, C}"><code>NLPModels.obj</code></a></li><li><a href="#PartitionedKnetNLPModels.PS_deduction-Tuple{T} where T&lt;:KnetNLPModels.Chain"><code>PartitionedKnetNLPModels.PS_deduction</code></a></li><li><a href="#PartitionedKnetNLPModels.precompile_ps_struct-Tuple{T} where T&lt;:KnetNLPModels.Chain"><code>PartitionedKnetNLPModels.precompile_ps_struct</code></a></li><li><a href="#PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsSep, Vector{Vector{Int64}}}"><code>PartitionedKnetNLPModels.ps</code></a></li><li><a href="#PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsDense, Vector{Vector{Int64}}}"><code>PartitionedKnetNLPModels.ps</code></a></li></ul><p>​</p><article class="docstring"><header><a class="docstring-binding" id="NLPModels.grad!-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}, AbstractVector{T}}} where {T, S, C}" href="#NLPModels.grad!-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}, AbstractVector{T}}} where {T, S, C}"><code>NLPModels.grad!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">	g = grad!(nlp, x, g)</code></pre><p>Evaluate <code>∇f(x)</code>, the gradient of the objective function at <code>x</code> in place.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/optim/methods.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NLPModels.obj-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}}} where {T, S, C}" href="#NLPModels.obj-Union{Tuple{C}, Tuple{S}, Tuple{T}, Tuple{PartitionedKnetNLPModel{T, S, C, Y} where Y&lt;:PartitionedStructures.M_part_mat.Part_mat{T}, AbstractVector{T}}} where {T, S, C}"><code>NLPModels.obj</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">	f = obj(nlp, x)

Evaluate `f(x)`, the objective function of `nlp` at `x`.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/optim/methods.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PartitionedKnetNLPModels.PS_deduction-Tuple{T} where T&lt;:KnetNLPModels.Chain" href="#PartitionedKnetNLPModels.PS_deduction-Tuple{T} where T&lt;:KnetNLPModels.Chain"><code>PartitionedKnetNLPModels.PS_deduction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PS_deduction(c,dp)</code></pre><p>Compute the partially separable structure of a network represented by the Chain c by performing a forward evaluation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/ANN/abstract_chain.jl#L33-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PartitionedKnetNLPModels.precompile_ps_struct-Tuple{T} where T&lt;:KnetNLPModels.Chain" href="#PartitionedKnetNLPModels.precompile_ps_struct-Tuple{T} where T&lt;:KnetNLPModels.Chain"><code>PartitionedKnetNLPModels.precompile_ps_struct</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">precompile_ps_struct(network&lt;:Chain)</code></pre><p>The function is called on a network defined by Dense/Sep<em>layer/Conv or an other layer that define also ps</em>struct(layer); index. The result is a precompiled PS structure. Il faut déterminer pour chaque couche une fonction ps_struct qui déterminer l&#39;information nécessaire à prendre en compte pour déterminer la séparabilité partielle du réseau. Sa forme est très proche de celle du réseau initial, mais chaque arc (ie variable) contient l&#39;indice de la variable. Attention il ne faut pas oublier de stocker les biais qui sont également des variables. L&#39;objectif est d&#39;ensuite appelé une fonction évaluant rapidement la structure PS du réseau., par propagation des dépendances sur une évaluation backward. Pour une analyse de la structure sous influence du dropout j&#39;ai intégré des vecteur booléen indiquant neurones de la couche précédente étaient actifs ou non. Cela se modélise par le vecteur dp dans PsDense</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/ANN/abstract_chain.jl#L10-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsDense, Vector{Vector{Int64}}}" href="#PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsDense, Vector{Vector{Int64}}}"><code>PartitionedKnetNLPModels.ps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ps(psd::PsDense, Dep::Vector{Vector{int}})</code></pre><p>pour chaque noeud on va ajouter les dépendances du layer propre (excepté dropout)  on y ajoute ensuite les dépendances (car dense) de la couche précédente modélisé par Di (à modérer avec le dropout) Le cas de la couche Dense est particulier, sans dropout il n&#39;a que peu d&#39;intérêt</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/ANN/layers.jl#L46-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsSep, Vector{Vector{Int64}}}" href="#PartitionedKnetNLPModels.ps-Tuple{PartitionedKnetNLPModels.PsSep, Vector{Vector{Int64}}}"><code>PartitionedKnetNLPModels.ps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ps(pss::PsSep, Dep::Vector{Vector{int}})</code></pre><p>pour chaque noeud on va ajouter les dépendances du layer propre: une sous partie de la couche précédente (+ dropout)  on y ajoute ensuite certaines dépendances de la couche précédente modélisé par Di (à modérer avec le dropout) Dans le cas PS, la propagation des variables sera moins intense que le cas Dense</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/paraynaud/PartitionedKnetNLPModels.jl/blob/1223711b027ad85729712121465da1f4ca3c4225/src/ANN/layers.jl#L107-L113">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 6 September 2022 15:50">Tuesday 6 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
